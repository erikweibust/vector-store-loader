2025-08-24T15:37:48.087-05:00  INFO 57196 --- [vector-store-loader] [main] c.e.v.VectorStoreLoaderApplication       : Starting VectorStoreLoaderApplication using Java 24.0.1 with PID 57196 (/Users/erik/dev/projects/ai/manning-book/vector-store-loader/build/classes/java/main started by erik in /Users/erik/dev/projects/ai/manning-book/vector-store-loader)
2025-08-24T15:37:48.088-05:00  INFO 57196 --- [vector-store-loader] [main] c.e.v.VectorStoreLoaderApplication       : No active profile set, falling back to 1 default profile: "default"
2025-08-24T15:37:48.445-05:00  INFO 57196 --- [vector-store-loader] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-08-24T15:37:48.450-05:00  INFO 57196 --- [vector-store-loader] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-08-24T15:37:48.614-05:00  INFO 57196 --- [vector-store-loader] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-08-24T15:37:48.620-05:00  INFO 57196 --- [vector-store-loader] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-24T15:37:48.620-05:00  INFO 57196 --- [vector-store-loader] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-24T15:37:48.647-05:00  INFO 57196 --- [vector-store-loader] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-24T15:37:48.647-05:00  INFO 57196 --- [vector-store-loader] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 544 ms
2025-08-24T15:37:48.735-05:00  WARN 57196 --- [vector-store-loader] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'fileSupplier' for function definition 'fileSupplier|documentReader|splitter|titleDeterminer|vectorStoreConsumer'. Returning null.
2025-08-24T15:37:49.269-05:00  WARN 57196 --- [vector-store-loader] [main] io.qdrant.client.QdrantGrpcClient        : Qdrant client version 1.13.0 is incompatible with server version 1.15.3. Major versions should match and minor version difference must not exceed 1. Set checkCompatibility=false to skip version check.
2025-08-24T15:37:49.555-05:00  INFO 57196 --- [vector-store-loader] [main] o.s.c.f.web.mvc.FunctionHandlerMapping   : FunctionCatalog: org.springframework.cloud.function.context.catalog.BeanFactoryAwareFunctionRegistry@47ef546a
2025-08-24T15:37:49.578-05:00  INFO 57196 --- [vector-store-loader] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-08-24T15:37:49.578-05:00  INFO 57196 --- [vector-store-loader] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'vector-store-loader.errorChannel' has 1 subscriber(s).
2025-08-24T15:37:49.578-05:00  INFO 57196 --- [vector-store-loader] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-08-24T15:37:49.582-05:00  INFO 57196 --- [vector-store-loader] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 57766 (http) with context path '/'
2025-08-24T15:37:49.587-05:00  INFO 57196 --- [vector-store-loader] [main] c.e.v.VectorStoreLoaderApplication       : Started VectorStoreLoaderApplication in 1.665 seconds (process running for 1.809)
2025-08-24T15:37:49.591-05:00  INFO 57196 --- [vector-store-loader] [boundedElastic-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {transformer} as a subscriber to the 'fileReadingFlow.channel#1' channel
2025-08-24T15:37:49.592-05:00  INFO 57196 --- [vector-store-loader] [boundedElastic-2] o.s.integration.channel.DirectChannel    : Channel 'vector-store-loader.fileReadingFlow.channel#1' has 1 subscriber(s).
2025-08-24T15:37:49.592-05:00  INFO 57196 --- [vector-store-loader] [boundedElastic-2] o.s.i.endpoint.EventDrivenConsumer       : started bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:37:49.592-05:00  INFO 57196 --- [vector-store-loader] [boundedElastic-2] o.s.i.endpoint.ReactiveStreamsConsumer   : started bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:49:24.595-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-24T15:49:24.600-05:00  INFO 57196 --- [vector-store-loader] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-24T15:49:24.602-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.ReactiveStreamsConsumer   : stopped bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:49:24.602-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {transformer} as a subscriber to the 'fileReadingFlow.channel#1' channel
2025-08-24T15:49:24.602-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.integration.channel.DirectChannel    : Channel 'vector-store-loader.fileReadingFlow.channel#1' has 0 subscriber(s).
2025-08-24T15:49:24.603-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:49:24.603-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-08-24T15:49:24.604-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'vector-store-loader.errorChannel' has 0 subscriber(s).
2025-08-24T15:49:24.604-05:00  INFO 57196 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2025-08-24T15:49:50.261-05:00  INFO 57501 --- [vector-store-loader] [main] c.e.v.VectorStoreLoaderApplication       : Starting VectorStoreLoaderApplication using Java 24.0.1 with PID 57501 (/Users/erik/dev/projects/ai/manning-book/vector-store-loader/build/classes/java/main started by erik in /Users/erik/dev/projects/ai/manning-book/vector-store-loader)
2025-08-24T15:49:50.262-05:00  INFO 57501 --- [vector-store-loader] [main] c.e.v.VectorStoreLoaderApplication       : No active profile set, falling back to 1 default profile: "default"
2025-08-24T15:49:50.581-05:00  INFO 57501 --- [vector-store-loader] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-08-24T15:49:50.586-05:00  INFO 57501 --- [vector-store-loader] [main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-08-24T15:49:50.737-05:00  INFO 57501 --- [vector-store-loader] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-08-24T15:49:50.743-05:00  INFO 57501 --- [vector-store-loader] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-24T15:49:50.744-05:00  INFO 57501 --- [vector-store-loader] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-24T15:49:50.769-05:00  INFO 57501 --- [vector-store-loader] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-24T15:49:50.769-05:00  INFO 57501 --- [vector-store-loader] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 491 ms
2025-08-24T15:49:50.850-05:00  WARN 57501 --- [vector-store-loader] [main] c.f.c.c.BeanFactoryAwareFunctionRegistry : Failed to locate function 'fileSupplier' for function definition 'fileSupplier|documentReader|splitter|titleDeterminer|vectorStoreConsumer'. Returning null.
2025-08-24T15:49:51.654-05:00  WARN 57501 --- [vector-store-loader] [main] io.qdrant.client.QdrantGrpcClient        : Qdrant client version 1.13.0 is incompatible with server version 1.15.3. Major versions should match and minor version difference must not exceed 1. Set checkCompatibility=false to skip version check.
2025-08-24T15:49:51.945-05:00  INFO 57501 --- [vector-store-loader] [main] o.s.c.f.web.mvc.FunctionHandlerMapping   : FunctionCatalog: org.springframework.cloud.function.context.catalog.BeanFactoryAwareFunctionRegistry@4698e4bf
2025-08-24T15:49:51.968-05:00  INFO 57501 --- [vector-store-loader] [main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-08-24T15:49:51.969-05:00  INFO 57501 --- [vector-store-loader] [main] o.s.i.channel.PublishSubscribeChannel    : Channel 'vector-store-loader.errorChannel' has 1 subscriber(s).
2025-08-24T15:49:51.969-05:00  INFO 57501 --- [vector-store-loader] [main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2025-08-24T15:49:51.974-05:00  INFO 57501 --- [vector-store-loader] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 58000 (http) with context path '/'
2025-08-24T15:49:51.980-05:00  INFO 57501 --- [vector-store-loader] [main] c.e.v.VectorStoreLoaderApplication       : Started VectorStoreLoaderApplication in 1.886 seconds (process running for 2.028)
2025-08-24T15:49:51.984-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-2] o.s.i.endpoint.EventDrivenConsumer       : Adding {transformer} as a subscriber to the 'fileReadingFlow.channel#1' channel
2025-08-24T15:49:51.985-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-2] o.s.integration.channel.DirectChannel    : Channel 'vector-store-loader.fileReadingFlow.channel#1' has 1 subscriber(s).
2025-08-24T15:49:51.985-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-2] o.s.i.endpoint.EventDrivenConsumer       : started bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:49:51.985-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-2] o.s.i.endpoint.ReactiveStreamsConsumer   : started bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:50:58.687-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-3] c.e.v.VectorStoreLoaderApplication       : Writing 0 documents to vector store.
2025-08-24T15:51:00.572-05:00 ERROR 57501 --- [vector-store-loader] [grpc-default-executor-3] io.qdrant.client.QdrantClient            : Upsert operation failed

io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Bad request: Empty update request
	at io.grpc.Status.asRuntimeException(Status.java:533) ~[grpc-api-1.65.1.jar:1.65.1]
	at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:538) ~[grpc-stub-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:564) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:729) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:710) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.65.1.jar:1.65.1]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1095) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1447) ~[na:na]

2025-08-24T15:51:00.575-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-3] o.s.i.endpoint.ReactiveStreamsConsumer   : stopped bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:51:00.575-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-3] o.s.i.endpoint.EventDrivenConsumer       : Removing {transformer} as a subscriber to the 'fileReadingFlow.channel#1' channel
2025-08-24T15:51:00.575-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-3] o.s.integration.channel.DirectChannel    : Channel 'vector-store-loader.fileReadingFlow.channel#1' has 0 subscriber(s).
2025-08-24T15:51:00.575-05:00  INFO 57501 --- [vector-store-loader] [boundedElastic-3] o.s.i.endpoint.EventDrivenConsumer       : stopped bean 'fileReadingFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1'; from source: 'org.springframework.cloud.fn.supplier.file.FileSupplierConfiguration$FileMessageSourceConfiguration.fileReadingFlow(reactor.core.publisher.Flux)'
2025-08-24T15:51:00.575-05:00 ERROR 57501 --- [vector-store-loader] [boundedElastic-3] reactor.core.publisher.Operators         : Operator called default onErrorDropped

reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.RuntimeException: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Bad request: Empty update request
Caused by: java.lang.RuntimeException: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Bad request: Empty update request
	at org.springframework.ai.vectorstore.qdrant.QdrantVectorStore.doAdd(QdrantVectorStore.java:193) ~[spring-ai-qdrant-store-1.0.1.jar:1.0.1]
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.lambda$add$1(AbstractObservationVectorStore.java:85) ~[spring-ai-vector-store-1.0.1.jar:1.0.1]
	at io.micrometer.observation.Observation.observe(Observation.java:498) ~[micrometer-observation-1.15.2.jar:1.15.2]
	at org.springframework.ai.vectorstore.observation.AbstractObservationVectorStore.add(AbstractObservationVectorStore.java:85) ~[spring-ai-vector-store-1.0.1.jar:1.0.1]
	at org.springframework.ai.vectorstore.VectorStore.accept(VectorStore.java:55) ~[spring-ai-vector-store-1.0.1.jar:1.0.1]
	at com.example.vectorstoreloader.VectorStoreLoaderApplication.lambda$vectorStoreConsumer$1(VectorStoreLoaderApplication.java:111) ~[main/:na]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxSubscribeOn$SubscribeOnSubscriber.onNext(FluxSubscribeOn.java:151) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxSubscribeOn$SubscribeOnSubscriber.onNext(FluxSubscribeOn.java:151) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxRefCount$RefCountInner.onNext(FluxRefCount.java:242) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:571) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPublish$PublishSubscriber.onNext(FluxPublish.java:310) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.7.8.jar:3.7.8]
	at org.springframework.integration.channel.FluxMessageChannel.tryEmitMessage(FluxMessageChannel.java:100) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.FluxMessageChannel.doSend(FluxMessageChannel.java:80) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:436) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:343) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:531) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:358) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:290) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:254) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:152) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:132) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:148) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:121) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:436) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:343) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-6.2.9.jar:6.2.9]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:531) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:358) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:290) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:254) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:152) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:131) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.handler.AbstractMessageHandler.onNext(AbstractMessageHandler.java:42) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:322) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.endpoint.ReactiveStreamsConsumer$SubscriberDecorator.hookOnNext(ReactiveStreamsConsumer.java:280) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at reactor.core.publisher.BaseSubscriber.onNext(BaseSubscriber.java:160) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxRefCount$RefCountInner.onNext(FluxRefCount.java:242) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPublish$PublishSubscriber.drain(FluxPublish.java:571) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPublish$PublishSubscriber.onNext(FluxPublish.java:310) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SinkManyEmitterProcessor.drain(SinkManyEmitterProcessor.java:476) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SinkManyEmitterProcessor.tryEmitNext(SinkManyEmitterProcessor.java:273) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100) ~[reactor-core-3.7.8.jar:3.7.8]
	at org.springframework.integration.channel.FluxMessageChannel.tryEmitMessage(FluxMessageChannel.java:100) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.FluxMessageChannel.doSend(FluxMessageChannel.java:80) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:436) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:343) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:312) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.FluxMessageChannel.sendReactiveMessage(FluxMessageChannel.java:198) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at org.springframework.integration.channel.FluxMessageChannel.lambda$doSubscribeTo$4(FluxMessageChannel.java:166) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:179) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2570) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:260) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxFlatMap$FlatMapInner.onSubscribe(FluxFlatMap.java:968) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:164) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:430) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:178) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxRepeatPredicate$RepeatPredicateSubscriber.onNext(FluxRepeatPredicate.java:86) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.FluxRepeatWhen$RepeatWhenMainSubscriber.onNext(FluxRepeatWhen.java:143) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.onNext(MonoSubscribeOn.java:146) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:176) ~[reactor-core-3.7.8.jar:3.7.8]
	at org.springframework.integration.util.IntegrationReactiveUtils.lambda$messageSourceToFlux$0(IntegrationReactiveUtils.java:127) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.onRequest(MonoCreate.java:225) ~[reactor-core-3.7.8.jar:3.7.8]
	at org.springframework.integration.util.IntegrationReactiveUtils.lambda$messageSourceToFlux$1(IntegrationReactiveUtils.java:127) ~[spring-integration-core-6.5.1.jar:6.5.1]
	at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:61) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4576) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84) ~[reactor-core-3.7.8.jar:3.7.8]
	at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37) ~[reactor-core-3.7.8.jar:3.7.8]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:309) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1095) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:619) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1447) ~[na:na]
Caused by: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Bad request: Empty update request
	at com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:592) ~[guava-32.1.3-jre.jar:na]
	at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:571) ~[guava-32.1.3-jre.jar:na]
	at com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:91) ~[guava-32.1.3-jre.jar:na]
	at org.springframework.ai.vectorstore.qdrant.QdrantVectorStore.doAdd(QdrantVectorStore.java:190) ~[spring-ai-qdrant-store-1.0.1.jar:1.0.1]
	... 121 common frames omitted
Caused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Bad request: Empty update request
	at io.grpc.Status.asRuntimeException(Status.java:533) ~[grpc-api-1.65.1.jar:1.65.1]
	at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:538) ~[grpc-stub-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:564) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl.access$100(ClientCallImpl.java:72) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:729) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:710) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.65.1.jar:1.65.1]
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.65.1.jar:1.65.1]
	... 3 common frames omitted

2025-08-24T15:51:06.484-05:00  INFO 57501 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-08-24T15:51:06.488-05:00  INFO 57501 --- [vector-store-loader] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-08-24T15:51:06.490-05:00  INFO 57501 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-08-24T15:51:06.490-05:00  INFO 57501 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'vector-store-loader.errorChannel' has 0 subscriber(s).
2025-08-24T15:51:06.490-05:00  INFO 57501 --- [vector-store-loader] [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
